**마크다운 미리보기 단축키**: `Ctrl+Shift+V` (Windows/Linux) 또는 `Cmd+Shift+V` (Mac)



| 구분         | 상세                                                                               |
| ---------- | -------------------------------------------------------------------------------- |
| **주요 기능**  | 앱/웹 소개 및 시작, 카카오 로그인                                                                      |
| **프론트 엔드** | 1. 카카오 로그인 버튼 클릭 시 카카오 OAuth 인증 진행 <br> 2. ☰ 햄버거 메뉴에는 로그인/로그아웃 버튼과 지난 고민 보기, **피드백** 버튼이 있음 <br> 3. **피드백 기능**: 햄버거 메뉴의 "피드백" 버튼 클릭 시 피드백 페이지로 이동 (로그인 필요) <br> 4. **EmailJS 사용**: 피드백 제출 시 EmailJS를 통해 이메일 전송 (환경 변수: `VITE_EMAILJS_SERVICE_ID`, `VITE_EMAILJS_TEMPLATE_ID`, `VITE_EMAILJS_PUBLIC_KEY`) <br> 5. 로그인 후 접근 권한 체크 (학교 정보, 밴 상태, 재가입 제한 등) <br> 6. 첫 로그인 시 학교 선택 페이지로 이동 |
| **백엔드**    | 1. 카카오 OAuth 콜백 처리 (`/api/auth/kakao/callback`) <br> 2. 사용자 정보 동기화 (`/api/auth/sync-user`) <br> 3. 접근 권한 체크 (`/api/access-control/check-full-access`) |


| 구분         | 상세                                                                                                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **주요 기능**  | 카카오 OAuth를 통한 회원가입 및 로그인                                                                                                                                                               |
| **프론트 엔드** | 1. 카카오 로그인 버튼 클릭 시 Supabase OAuth 시작 <br> 2. 카카오 인증 후 `/auth/callback`으로 리다이렉트 <br> 3. 세션 설정 및 사용자 정보 동기화 <br> 4. 재가입 제한 체크 (24시간 제한, 해시 기반) <br> 5. 밴 상태 체크 및 학교 정보 확인 <br> 6. **첫 회원가입 시**: 학교 정보가 null/undefined인 경우 자동으로 학교 선택 페이지로 리다이렉트 (관리자 제외) |
| **백엔드**    | 1. 카카오 OAuth 인가 코드 처리 (`/api/auth/kakao/callback`) <br> 2. 카카오 로그인 처리 (`/api/auth/kakao`) <br> 3. 사용자 정보 동기화 (`/api/auth/sync-user`) <br> 4. 재가입 제한 체크 (SHA-256 해시 기반) <br> 5. 데이터베이스는 **회원 정보**, **AI 답변**, **일일 사용 로그**, **재가입 제한** 등 여러 테이블로 구성 |


| 구분         | 상세                                                                                                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **주요 기능**  | 첫 회원가입 시 학교 선택 (한 번만 진행)                                                                                                                                                               |
| **프론트 엔드** | 1. 로그인 후 학교 정보가 null/undefined인 경우 자동으로 `/school-select` 페이지로 리다이렉트 <br> 2. 24개 대학교 목록에서 검색 및 선택 가능 (서울/경기/인천 주요 대학교) <br> 3. 학교 선택 후 `/api/auth/profile` PUT API로 학교 정보 저장 <br> 4. 저장 완료 후 역할 선택 페이지로 이동 <br> 5. **한 번만 진행**: 학교 정보가 이미 있는 경우 이 페이지를 건너뜀 (관리자 제외) |
| **백엔드**    | 1. 학교 정보 저장 API (PUT `/api/auth/profile`): 사용자 프로필의 `school` 필드 업데이트 <br> 2. 학교 정보는 사용자별로 한 번만 저장되며, 이후 수정은 설정 페이지에서 가능 |


| 구분         | 상세                                                      |
| ---------- | ------------------------------------------------------- |
| **주요 기능**  | 역할 선택 페이지 (홈 페이지 없음)                                                  |
| **프론트 엔드** | 1. 기본 역할 1개 제공 (학생) <br> 2. 커스텀 역할 추가 가능 (사용자별로 관리) <br> 3. 역할 선택 후 다음 버튼 클릭 시 **고민 입력** 화면으로 이동 <br> 4. 일일 사용 제한 체크 (24시간 제한) |
| **백엔드**    | 1. 커스텀 역할 관리 API (`/api/custom-roles`) <br> 2. 접근 권한 및 일일 사용 제한 체크 (`/api/access-control/check-full-access`) |


| 구분         | 상세                                                                           |
| ---------- | ---------------------------------------------------------------------------- |
| **주요 기능**  | 사용자가 역할 선택 (기본 역할: 학생, 커스텀 역할 추가 가능)                                    |
| **프론트 엔드** | 1. 기본 역할 1개 표시 (학생) <br> 2. 커스텀 역할 추가 버튼 (+ 버튼) <br> 3. 역할 입력 UI 구현 <br> 4. 입력한 역할 정보를 프론트엔드 내부 상태에 임시 저장 → 이후 고민 입력 시 같이 백엔드로 전송 <br> 5. 커스텀 역할은 백엔드 `custom_roles` 테이블에 저장 |
| **백엔드**    | 1. 커스텀 역할 CRUD API (`/api/custom-roles`) <br> 2. 역할 정보는 고민 입력 시 AI 요청과 함께 전송 |


| 구분         | 상세                                                                                                                  |
| ---------- | ------------------------------------------------------------------------------------------------------------------- |
| **주요 기능**  | 현재의 고민 작성 및 AI 요청                                                                                                   |
| **프론트 엔드** | 1. 이전에 입력한 역할을 불러와 화면 상단에 출력 ("\~로서 고민을 한 줄로 정리해 보세요") <br> 2. 한 줄 입력 UI 구현 (최대 100자) <br> 3. 다음 버튼 클릭 시, 역할 + 고민을 묶어 백엔드로 전달 |
| **백엔드**    | 1. 역할 + 고민을 AI 모델(GPT-4)에 전달 (`/api/concerns/ai/both`) <br> 2. AI 생성 긴 조언만 반환 (shortAdvice 제거됨) <br> 3. 랜덤 운세 메시지 포함 가능 |


| 구분         | 상세                                                                                                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **주요 기능**  | AI의 답변을 포춘쿠키 애니메이션과 함께 제공                                                                                                                                                |
| **프론트 엔드** | 1. 포춘쿠키 아이콘 클릭 → 애니메이션으로 쿠키 깨기 → AI 답변 표시 <br> 2. 짧은 조언은 JSON 파일에서 랜덤 선택 (`/data/short-advices.json`) <br> 3. 긴 조언은 AI 백엔드 API에서 받아옴 <br> 4. 저장하기 / 마침 버튼 표시 <br> 5. 저장하기 클릭 시 역할+고민+AI 답변 데이터를 API로 전송 (`/api/concerns/save`) → 성공 시 "저장 완료" 메시지 표시 <br> 6. 마침 클릭 시 저장 없이 인트로 화면으로 이동 <br> 7. 일일 사용 로그 자동 생성 (`/api/daily-usage-logs`) |
| **백엔드**    | 1. AI 생성 긴 조언 반환 (`/api/concerns/ai/both`) - GPT-4 사용 <br> 2. 저장하기 요청 시 역할, 고민, AI 답변을 DB에 저장 (`/api/concerns/save`) <br> 3. 일일 사용 로그 생성 (`/api/daily-usage-logs`) |


| 구분         | 상세                                                                                                                                  |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| **주요 기능**  | 과거의 고민 목록 확인 및 삭제                                                                                                                   |
| **프론트 엔드** | 1. 로그인 사용자 기준 지난 고민 목록 그리드/리스트 형태로 표시 <br> 2. 검색, 필터, 정렬 기능 제공 <br> 3. 각 항목 클릭 시 상세보기 모달 표시 <br> 4. 삭제 버튼 클릭 시 삭제 확인 모달 표시 <br> 5. 삭제 확인 시 고민 삭제 + UI에서 즉시 제거 <br> 6. 통계 카드 표시 (총 운세, 상담 역할, 최근 7일, 주 평균) <br> 7. 페이지네이션 지원 |
| **백엔드**    | 1. 고민 저장 API (POST `/api/concerns/save`): 역할, 고민, AI 답변 저장 <br> 2. 고민 목록 API (GET `/api/concerns/`): 로그인 사용자 고민 목록 조회 <br> 3. 고민 삭제 API (DELETE `/api/concerns/:id`): 해당 고민 데이터 삭제 후 성공 여부 반환 <br> 4. 고민 업데이트 API (PUT `/api/concerns/:id`): 비슷한 고민으로 새 운세 받기 |
